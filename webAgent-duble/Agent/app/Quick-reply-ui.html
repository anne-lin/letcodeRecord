<div id="chat_quick_reply">
    <div id="quick_reply" data-bind="visible:quickReplyDis">
        <div id="handle_bar">
            <div class="serach_input">
                <!--<input type="text" data-bind="textInput: quickReplySearchTxt, event: {keyup: function(){searchComLang('commonSearch')}}"/>-->
                <input type="text" data-bind="textInput: quickReplySearchTxt, event: {keyup: function(){searchComLang('commonSearch')}}"/>

                <span><i class="fa fa-search"></i></span>
            </div>
            <div class="handle_button">
                <span><i class="fa fa-refresh" data-bind="click: refreshList"></i></span>
                <span><i class="fa fa-cog" data-bind="click: handleSetting"></i></span>
            </div>
        </div>
        <div data-bind="template: {name: 'quickReplyContent'}"></div>
    </div>

    <div id="common_Language_set" data-bind="visible: !quickReplyDis()">
        <div id="comLang_title">
            <span>设置常用语</span>
            <div class="edit-btns" data-bind="visible: !!cacheValue()">
                <button type="button" class="qn-button primary" data-bind="click:handleEdit">编辑</button>
                <button type="button" class="qn-button danger" data-bind="click:handleDelete">删除</button>
            </div>
        </div>
        <div data-bind="template: {name: 'quickReplyContent'}"></div>
        <div class="bottom-btns">
            <form hidden encType="multipart/form-data" target="upload">
                <input type="file" name="file" id="commLangToUpload"/>
            </form>
            <button type="button" class="qn-button primary" id="commLangUploadBtn">导入</button>
            <button type="button" class="qn-button primary" data-bind="click:handleExport">导出</button>
            <button type="button" class="qn-button primary">
                <a data-bind="attr:{href:downLoadUrl}" target="_blank">模板下载</a>
            </button>
            <button type="button" class="qn-button primary" data-bind="click:handleReturn">返回</button>
        </div>
        <div class="common-Language-create" data-bind="visible:commCreateDis">
            <div class="commLang-create-title">
                <span data-bind="text:currentTitle"></span>
            </div>
            <div class="commLang-create-content">
                <!--ko if:currentTitleKey() == 1 || currentTitleKey() == 2-->
                <textarea data-bind="textInput:commLangContent" maxlength="10"></textarea>
                <p>
                    <span data-bind="text:commLangContent().length"></span>
                    <span>/10</span>
                </p>
                <!--/ko-->
                <!--ko if:currentTitleKey() == 3 || currentTitleKey() == 4-->
                <textarea data-bind="textInput:commLangContent"></textarea>
                <!--/ko-->
            </div>
            <div style="text-align: right">
                <button type="button" class="qn-button default" data-bind="click:handleCancel">取消</button>
                <button type="button" class="qn-button primary" id="handleSave" data-bind="click:handleSave">保存</button>
            </div>
        </div>
        <div class="operateTip" data-bind="visible:!!operateTip()">
            <span data-bind="text:operateTip"></span>
        </div>
        <div class="deleteConfirm" data-bind="visible:deleteConfirmDis">
            <!--ko if:cacheValue() && cacheValue().type == 'group' -->
            <p>如果删除分组，该分组下的常用语内容将全部删除，并且不可恢复，是否确定删除?</p>
            <!--/ko-->
            <!--ko if:cacheValue() && cacheValue().type == 'content' -->
            <p>确定删除该条常用语内容?</p>
            <!--/ko-->
            <div style="text-align: right">
                <button type="button" style="margin-right:10px;" class="qn-button default" data-bind="click:handleCancel">取消</button>
                <button type="button" class="qn-button danger" data-bind="click:confirmDelete">删除</button>
            </div>
        </div>
    </div>

</div>
<script type="text/html" id="quickReplyContent">
    <div id="content_area">
        <div class="com_language_group" data-bind="visible: !searchResultShow()">
            <p>常用语分组
                <button class="create_icon"
                        data-bind="visible: !quickReplyDis(),click:createCommLangG,enable:comLangGgroupList().length < 20"><i
                        class="fa fa-plus-square-o"></i></button>
            </p>
            <ul data-bind="foreach: comLangGgroupList">
                <li data-bind="click: $parent.switchComLangGgroup,css:{'selectedGroupActive': selected()}">
                    <span class="selected-group-style"
                          data-bind="style: {visibility: selected() ? 'visible' : 'hidden'}"></span>
                    <span data-bind="text: name"></span>
                    <span class="iconComm" data-bind="style: {visibility: typeGrop() ? 'visible' : 'hidden'}"></span>
                </li>
            </ul>
        </div>
        <div class="com_language_content" data-bind="visible: !searchResultShow()">
            <p>常用语内容
                <button class="create_icon" data-bind="visible: !quickReplyDis(), click:createCommLangC,enable: !!selectedGgroup()">
                    <i class="fa fa-plus-square-o" data-bind="style: {color: !!selectedGgroup() ? '#07968a' : '#ddd'}"></i>
                </button>
            </p>
            <ul data-bind="foreach: comLangContentList">

                <!--ko if:$root.quickReplyDis()-->
                <li data-bind="text: name,click: $root.handleSearchedContent,css:{'selectedContentActive': selected()}"></li>
                <!--/ko-->

                <!--ko if:!$root.quickReplyDis()-->
                <li data-bind="text: name,click: $root.handleCacheValue,css:{'selectedContentActive': selected()}"></li>
                <!--/ko-->

            </ul>
        </div>
        <div class="com_language_content search_result" data-bind="visible: searchResultShow">
           <!--ko if:searchedContentList().length > 0-->
            <ul data-bind="foreach: searchedContentList">
                <li data-bind="text: sentenceDto.content,css:{'iconCom_show':type=='0'},click: $parent.handleSearchedContent">
                </li>
            </ul>
            <!--/ko-->
            <div class ="search_result_none" data-bind="visible:searchResultTip">
                <p>没有搜索结果</p>
            </div>
        </div>
    </div>
</script>