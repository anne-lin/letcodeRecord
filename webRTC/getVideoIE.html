<html lang='en'>
<head>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width,initial-scale=1.0'>
<script src="adapter-latest.js"></script>
<style>
    video{
        width: 500px;
        height: 300px;
    }
</style>
</head>
<body>
    <video id="local-video" autoplay></video>
</body>
<script src="https://cdn.temasys.com.sg/adapterjs/0.15.x/adapter.screenshare.js"></script>
<script>
    function onSuccess(stream){
        var video=document.getElementById("local-video");
            //video.srcObject=stream;
            video = attachMediaStream(video, stream); 
    }
    function onFailure(){
        console.log("获取失败");
    } 
    if(typeof Promise == "undefined"){
        navigator.getUserMedia({
            video:true,
            audio:true
        }, onSuccess, onFailure);
    }else{
        navigator.mediaDevices.getUserMedia({
            video:true,
            audio:true
        }).then(onSuccess).catch(onFailure)
    }
    
</script>
</html>